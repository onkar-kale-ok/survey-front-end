import{T as V}from"./TutorialDataService.e814b1f2.js";import{L as h}from"./LessonDataService.37ab3352.js";import{_ as L,e as c,al as f,y as s,x as e,h as a,t as u,V as m,u as C,f as p,F as _,k as E,z as g}from"./index.0ee80c0a.js";import{a as n,V as v}from"./VRow.89af244b.js";import"./http-common.8b1eeaad.js";import"./index.becf6c0c.js";const T={props:{lesson:Object},data(){return{}},methods:{deleteLesson(){this.$emit("deleteLesson")},updateLesson(){this.$emit("updateLesson")}}};function $(o,t,r,x,d,l){return c(),f(v,null,{default:s(()=>[e(n,{cols:"8",sm:"2"},{default:s(()=>[a("span",null,u(r.lesson.title),1)]),_:1}),e(n,{cols:"8",sm:"4"},{default:s(()=>[a("span",null,u(r.lesson.description),1)]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[e(m,{size:"x-small",icon:"mdi-pencil",onClick:l.updateLesson},null,8,["onClick"])]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[e(m,{size:"x-small",icon:"mdi-trash-can",onClick:l.deleteLesson},null,8,["onClick"])]),_:1})]),_:1})}var y=L(T,[["render",$]]);const w={name:"view-tutorial",props:["id"],components:{LessonDisplay:y},data(){return{tutorial:{},lessons:[],message:"Add, Edit or Delete Lessons"}},methods:{retrieveLessons(){V.get(this.id).then(o=>{this.tutorial=o.data,h.getAllLessons(this.id).then(t=>{this.lessons=t.data}).catch(t=>{this.message=t.response.data.message})}).catch(o=>{this.message=o.response.data.message})},goEditTutorial(){this.$router.push({name:"edit",params:{id:this.id}})},goEditLesson(o){this.$router.push({name:"editLesson",params:{tutorialId:this.id,lessonId:o.id}})},goAddLesson(){this.$router.push({name:"addLesson",params:{tutorialId:this.id}})},goDeleteLesson(o){h.deleteLesson(o.tutorialId,o.id).then(()=>{this.retrieveLessons()}).catch(t=>{this.message=t.response.data.message})},cancel(){this.$router.push({name:"tutorials"})}},mounted(){this.retrieveLessons()}},A=a("h2",null,"Tutorial View",-1),B=g("Edit"),I=g("Add Lesson"),z=a("span",{class:"text-h6"},"Title",-1),N=a("span",{class:"text-h6"},"Description",-1),S=a("span",{class:"text-h6"},"Edit",-1),F=a("span",{class:"text-h6"},"Delete",-1);function U(o,t,r,x,d,l){const D=C("LessonDisplay");return c(),p(_,null,[A,a("h4",null,u(d.message),1),a("h3",null,u(d.tutorial.title),1),e(m,{color:"success",onClick:t[0]||(t[0]=i=>l.goEditTutorial())},{default:s(()=>[B]),_:1}),e(m,{color:"success",onClick:t[1]||(t[1]=i=>l.goAddLesson(r.id))},{default:s(()=>[I]),_:1}),e(v,null,{default:s(()=>[e(n,{cols:"8",sm:"2"},{default:s(()=>[z]),_:1}),e(n,{cols:"8",sm:"4"},{default:s(()=>[N]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[S]),_:1}),e(n,{cols:"8",sm:"1"},{default:s(()=>[F]),_:1})]),_:1}),(c(!0),p(_,null,E(d.lessons,i=>(c(),f(D,{key:i.id,lesson:i,onDeleteLesson:k=>l.goDeleteLesson(i),onUpdateLesson:k=>l.goEditLesson(i)},null,8,["lesson","onDeleteLesson","onUpdateLesson"]))),128))],64)}var H=L(w,[["render",U]]);export{H as default};
